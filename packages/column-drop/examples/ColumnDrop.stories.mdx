import { ColumnDrop } from '../src/index';
import { Meta, Story, Canvas, ArgsTable, Preview } from '@storybook/addon-docs/';

import { Box } from './Box';
import { argTypes } from './argTypes'

<Meta
  title="Spacer Components/ColumnDrop"
  component={ColumnDrop}
  parameters={{ viewMode: "docs" }}
/>

# ColumnDrop

## Use case

The ColumnDrop component is used to create a layout of columns that stretch to fit the space, and snaps to the next line at a minimum size. As columns drop down to a new row, they will be laid out independantly of the column layout above. This is a common layout for marketing sites.

## Installation

```bash
yarn add @bedrock-layout/column-drop
```

## API

<Story name="API" argTypes={argTypes} />

<ArgsTable story="API" />

## gutter

The `gutter` prop defines the gutter size between elements. Bedrock has implemented a default spacing scheme, but [it can be overridden using the ThemeProvider provided by `styled-components`.](/docs/spacing--page#integrating-with-your-design-system)
You can also use any valid CSSLength or positve integer.

Here are the possible values for `gutter` by default:

<Canvas withSource="open">
  <Story name="gutter">
    <h3>Custom gutter as number (20)</h3>
    <ColumnDrop gutter={20}>
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>Custom gutter as string ("3ch")</h3>
    <ColumnDrop gutter="3ch">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>none</h3>
    <ColumnDrop gutter="none">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>xxs</h3>
    <ColumnDrop gutter="xxs">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>xs</h3>
    <ColumnDrop gutter="xs">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>sm</h3>
    <ColumnDrop gutter="sm">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>md</h3>
    <ColumnDrop gutter="md">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>mdLg</h3>
    <ColumnDrop gutter="mdLg">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>lg</h3>
    <ColumnDrop gutter="lg">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>lgXl</h3>
    <ColumnDrop gutter="lgXl">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>xl</h3>
    <ColumnDrop gutter="xl">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>xlXXl</h3>
    <ColumnDrop gutter="xlXXl">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
    <h3>xxl</h3>
    <ColumnDrop gutter="xxl">
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
  </Story>
</Canvas>

## minItemWidth

The `minItemWidth` prop defines the width basis of each of the children. The `ColumnDrop` will the optimize how many columns and rows are needed based on that value.

In the below example, The `minItemWidth` is set to `15rem`. As you resize the window, the Grid will recalculate and potentially change the count of columns and rows.

<Canvas withSource="open">
  <Story name="minItemWidth">
    <ColumnDrop gutter="lg" minItemWidth="15rem">
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
  </Story>
</Canvas>

## noStretchedColumns

By default, the column-drop component will stretch the columns to fit the container. If you want to prevent this behavior, you can add the `noStretchedColumns` prop. The `ColumnDrop` will then use the `basis` prop to determine the width of each column and center the columns on each row.

In the below example, The `minItemWidth` is set to `15rem`. As you resize the window, the ColumnDrop will recalculate and potentially change the count of columns and rows.

<Canvas withSource="open">
  <Story name="noStretchedColumns">
    <ColumnDrop noStretchedColumns gutter="lg" basis="15rem">
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
  </Story>
</Canvas>

## data-attribute

For purposes of styling, you can select `data-bedrock-column-drop`.

## Playground

Experiment with this story with the Controls addon in the Canvas tab.

export const Template = (args) =>  (
   <ColumnDrop {...args}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </ColumnDrop>
);

<Canvas>
  <Story
    name="Playground"
    args={{
      gutter: "lg",
      minItemWidth: "15rem",
      noStretchedColumns: false,
    }}
    argTypes={argTypes}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Playground" />
