import { Split } from '@bedrock-layout/split';
import { Meta, Story, Canvas, ArgsTable, Preview } from '@storybook/addon-docs/';

import { Box } from './Box';

<Meta title="Components/Split" component={Split} />

# Split

## Use case

The Split component is designed to create a split layout based on a fraction.

## API

<ArgsTable of={Split} />

## Split based on a fraction

The `fraction` prop defines the fraction of the container width to use for the split. You can use the following values:

<Preview withToolbar>
  <Story name="Fraction">
    <h2>1/4 split</h2>
    <Split gutter="lg" fraction="1/4">
      <Box />
      <Box />
    </Split>
    <h2>1/3 split</h2>
    <Split gutter="lg" fraction="1/3">
      <Box />
      <Box />
    </Split>
    <h2>1/2 split</h2>
    <Split gutter="lg" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h2>2/3 split</h2>
    <Split gutter="lg" fraction="2/3">
      <Box />
      <Box />
    </Split>
    <h2>3/4 split</h2>
    <Split gutter="lg" fraction="3/4">
      <Box />
      <Box />
    </Split>
    <h2>auto-start split</h2>
    <p>(The first box has a width of 100px)</p>
    <Split gutter="lg" fraction="auto-start">
      <Box style={{ width: "100px" }} />
      <Box />
    </Split>
    <h2>auto-end split</h2>
    <p>(The second box has a width of 100px)</p>
    <Split gutter="lg" fraction="auto-end">
      <Box />
      <Box style={{ width: "100px" }} />
    </Split>
  </Story>
</Preview>

## With Gutters

The `gutter` prop defines the gutter size between elements. Bedrock has implemented a default spacing scheme, but [it can be overridden using the ThemeProvider provided by `styled-components`.](/docs/spacing--page#integrating-with-your-design-system)

The following values are available by default:

<Preview withToolbar>
  <Story name="With Gutters">
    <h2>xxs gutter</h2>
    <Split gutter="xxs" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h2>xs gutter</h2>
    <Split gutter="xs" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h2>sm gutter</h2>
    <Split gutter="sm" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h2>md gutter</h2>
    <Split gutter="md" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h2>mdLg gutter</h2>
    <Split gutter="mdLg" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h2>lg gutter</h2>
    <Split gutter="lg" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h2>lgXl gutter</h2>
    <Split gutter="lgXl" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h2>xl gutter</h2>
    <Split gutter="xl" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h2>xlXXl gutter</h2>
    <Split gutter="xlXXl" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h2>xxl gutter</h2>
    <Split gutter="xxl" fraction="1/2">
      <Box />
      <Box />
    </Split>
  </Story>
</Preview>

### With switchAt

The below example will switch to a stack when it is less than `45rem`. (Resize your window to see this in action.)

<Preview withToolbar>
  <Story name="With switchAt">
    <Split gutter="lg" fraction="1/2" switchAt="45rem">
      <Box />
      <Box />
    </Split>
  </Story>
</Preview>

## Playground

Experiment with this story with the Controls addon in the Canvas tab above.

export const Template = (args) =>  (
    <Split {...args}>
      <Box />
      <Box />
    </Split>
);

<Canvas withToolbar>
  <Story
    name="Playground"
    argTypes={{
      switchAt: {
        type: "string",
        description:
          "Sets the width threshold that the split will switch to a Stack layout",
      },
      fraction: {
        description: "Sets the fractional split",
        default: "1/2",
        control: "select",
        options: ["auto-start", "auto-end", "1/4", "1/3", "1/2", "2/3", "3/4"],
      },
      gutter: {
        description: "Sets space between each element",
        control: "select",
        options: [
          "none",
          "xxs",
          "xs",
          "sm",
          "md",
          "mdLg",
          "lg",
          "lgXl",
          "xl",
          "xlXXl",
          "xxl",
        ],
      },
    }}
    args={{ fraction: "1/2", gutter: "lg", switchAt: "30rem" }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Playground" />
