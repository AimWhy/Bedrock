import { Split } from '@bedrock-layout/split';
import { Meta, Story, Canvas, ArgsTable, Preview } from '@storybook/addon-docs/';

import { Box } from './Box';
import { argTypes } from './argTypes';

<Meta title="Components/Split" />

# Split

## Use case

The Split component is designed to create a split layout based on a fractional ratio. The Split will enforce a standard spacing scheme through the gutter prop and will optionally switch to a stack layout when the provided threshhold is reached.

## API

<Story name="API" argTypes={argTypes} />

<ArgsTable story="API" />

## fraction

The `fraction` prop defines the fraction of the container width to use for the split. You can use the following values:

<Preview withToolbar withSource="open">
  <Story name="fraction">
    <h3>1/4</h3>
    <Split gutter="lg" fraction="1/4">
      <Box />
      <Box />
    </Split>
    <h3>1/3</h3>
    <Split gutter="lg" fraction="1/3">
      <Box />
      <Box />
    </Split>
    <h3>1/2</h3>
    <Split gutter="lg" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h3>2/3</h3>
    <Split gutter="lg" fraction="2/3">
      <Box />
      <Box />
    </Split>
    <h3>3/4</h3>
    <Split gutter="lg" fraction="3/4">
      <Box />
      <Box />
    </Split>
    <h3>auto-start</h3>
    <p>(The first box has a width of 100px)</p>
    <Split gutter="lg" fraction="auto-start">
      <Box />
      <Box />
    </Split>
    <h3>auto-end</h3>
    <p>(The second box has a width of 100px)</p>
    <Split gutter="lg" fraction="auto-end">
      <Box />
      <Box />
    </Split>
  </Story>
</Preview>

## gutter

The `gutter` prop defines the gutter size between elements. Bedrock has implemented a default spacing scheme, but [it can be overridden using the ThemeProvider provided by `styled-components`.](/docs/spacing--page#integrating-with-your-design-system)

The following values are available by default:

<Preview withToolbar withSource="open">
  <Story name="gutter">
    <h3>none</h3>
    <Split gutter="none" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h3>xxs</h3>
    <Split gutter="xxs" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h3>xs</h3>
    <Split gutter="xs" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h3>sm</h3>
    <Split gutter="sm" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h3>md</h3>
    <Split gutter="md" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h3>mdLg</h3>
    <Split gutter="mdLg" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h3>lg</h3>
    <Split gutter="lg" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h3>lgXl</h3>
    <Split gutter="lgXl" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h3>xl</h3>
    <Split gutter="xl" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h3>xlXXl</h3>
    <Split gutter="xlXXl" fraction="1/2">
      <Box />
      <Box />
    </Split>
    <h3>xxl</h3>
    <Split gutter="xxl" fraction="1/2">
      <Box />
      <Box />
    </Split>
  </Story>
</Preview>

### With switchAt

The below example will switch to a stack when it is less than `45rem`. (Resize your window to see this in action.)

<Preview withToolbar withSource="open">
  <Story name="With switchAt">
    <Split gutter="lg" fraction="1/2" switchAt="45rem">
      <Box />
      <Box />
    </Split>
  </Story>
</Preview>

## Playground

Experiment with this story with the Controls addon in the Canvas tab above.

export const Template = (args) =>  (
    <Split {...args}>
      <Box />
      <Box />
    </Split>
);

<Canvas withToolbar>
  <Story
    name="Playground"
    argTypes={argTypes}
    args={{ fraction: "1/2", gutter: "lg", switchAt: "30rem" }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Playground" />
