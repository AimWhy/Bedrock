import { Columns, Column } from '@bedrock-layout/columns';
import { Meta, Story, Canvas, ArgsTable, Preview, Controls } from '@storybook/addon-docs/';

import { Box } from './Box'
import { columnsArgTypes, columnArgTypes } from './argTypes'

<Meta title="Components/Columns" />

# Columns

## Use case

The `Columns` component is designed to create a n-column layout. The complimentary `Column` will allow elements to span and offset n-columns.

## API

### Columns props

<Story name="Columns props" argTypes={columnsArgTypes}>
  <Columns />
</Story>

<ArgsTable component={Column} story="Columns props" />

### Column props

<Story name="Column props" argTypes={columnArgTypes}>
  <Column />
</Story>

<ArgsTable story="Column props" />

## columns

The below example gives us a 4 column layout. By default, each box will take up one column.

<Canvas withToolbar withSource="open">
  <Story name="columns">
    <Columns gutter="lg" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
  </Story>
</Canvas>

## gutters

Gutters are configured with the `gutter` prop

<Canvas withToolbar withSource="open">
  <Story name="gutters">
    <h3>none</h3>
    <Columns gutter="none" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
    <h3>xxs</h3>
    <Columns gutter="xxs" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
    <h3>xs</h3>
    <Columns gutter="xs" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
    <h3>sm</h3>
    <Columns gutter="sm" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
    <h3>md</h3>
    <Columns gutter="md" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
    <h3>mdLg</h3>
    <Columns gutter="mdLg" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
    <h3>lg</h3>
    <Columns gutter="lg" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
    <h3>lgXl</h3>
    <Columns gutter="lgXl" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
    <h3>xl</h3>
    <Columns gutter="xl" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
    <h3>xl</h3>
    <Columns gutter="xl" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
    <h3>xlXXl</h3>
    <Columns gutter="xlXXl" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
    <h3>xxl</h3>
    <Columns gutter="xxl" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
  </Story>
</Canvas>

## span

Here, the `Column` component is wrapping the blue and green boxes. It is then setting the blue box to span 3 columns and the green to span 2

<Canvas withToolbar withSource="open">
  <Story name="span">
    <Columns gutter="lg" columns={4}>
      <Box />
      <Box />
      <Column span={3}>
        <Box style={{ background: "blue" }} />
      </Column>
      <Column span={2}>
        <Box style={{ background: "green" }} />
      </Column>
      <Box />
      <Box />
      <Box />
    </Columns>
  </Story>
</Canvas>

## dense

Setting the `dense` prop will layout the children so that the items will fill any blank space.

<Canvas withToolbar withSource="open">
  <Story name="dense">
    <Columns dense gutter="lg" columns={4}>
      <Box>1</Box>
      <Box>2</Box>
      <Column span={3}>
        <Box>3</Box>
      </Column>
      <Box>4</Box>
      <Box>5</Box>
      <Column span={2}>
        <Box>6</Box>
      </Column>
      <Box>7</Box>
    </Columns>
  </Story>
</Canvas>

## offsetStart and offsetEnd

In the example, the blue box has `offsetStart` prop with value of 1 and the green box has an `offsetEnd` prop with value of 2

<Canvas withToolbar withSource="open">
  <Story name="offsetStart and offsetEnd">
    <Columns gutter="lg" columns={5}>
      <Box />
      <Box />
      <Column span={2} offsetStart={1}>
        <Box style={{ background: "blue" }} />
      </Column>
      <Column span={2} offsetEnd={2}>
        <Box style={{ background: "green" }} />
      </Column>
      <Box />
      <Box />
      <Box />
    </Columns>
  </Story>
</Canvas>

## switchAt

The below Columns layout will switch to a Stack layout when its less than `45rem`.

<Canvas withToolbar withSource="open">
  <Story name="switchAt">
    <Columns gutter="lg" columns={3} switchAt="45rem">
      <Box />
      <Box />
      <Box />
      <Column span={3}>
        <Box />
      </Column>
    </Columns>
  </Story>
</Canvas>

## data-attribute

For purposes of styling you can select `data-bedrock-columns` and `data-bedrock-column`.

## Playground

Experiment with this story with the Controls addon in the Canvas tab.

export const Template = (args) =>  (
    <Columns {...args}>
      <Box />
      <Box />
      <Column span={3}>
        <Box />
      </Column>
      <Column span={2}>
        <Box />
      </Column>
      <Box />
      <Box />
      <Box />
    </Columns>
)

export const ColumnsTemplate = (args) =>  (
    <Columns gutter='lg' columns={5} >
      <Box />
      <Box />
      <Column {...args}>
        <Box style={{ background: "blue" }}/>
      </Column>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
)

<Canvas withToolbar>
  <Story
    name="Columns Playground"
    args={{
      columns: 3,
      gutter: "lg",
      dense: false,
      switchAt: "30rem",
    }}
    argTypes={columnsArgTypes}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Columns Playground" />

<Canvas withToolbar>
  <Story
    name="Column Playground"
    args={{
      span: 1,
      offsetStart: 1,
      offsetEnd: 1,
    }}
    argTypes={columnArgTypes}
  >
    {ColumnsTemplate.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Column Playground" />
