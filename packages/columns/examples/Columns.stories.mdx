import { Columns, Column } from '@bedrock-layout/columns';
import { Meta, Story, Canvas, ArgsTable, Preview, Controls } from '@storybook/addon-docs/blocks';

import { Box } from './Box'

<Meta title="Components/Columns" />

# Columns

## Use case

The `Columns` component is designed to create a n-column layout. The complimentary `Column` will allow elements to span and offset n-columns.

## API

### Columns props

<ArgsTable of={Columns} />

### Column props

<ArgsTable of={Column} />

## Basic usage

The below example is a 4 column layout. Each box will take up one column by default.

<Preview withToolbar>
  <Story name="Basic">
    <Columns gutter="lg" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
  </Story>
</Preview>

## With xx-large gutters

Gutters are configured with the `gutter` prop

<Preview withToolbar>
  <Story name="Gutters">
    <Columns gutter="xxl" columns={4}>
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
      <Box />
    </Columns>
  </Story>
</Preview>

## With Column component

The column component is wrapping the blue and green boxes. It is then setting the blue box to span 3 columns and the green to span 2

<Preview withToolbar>
  <Story name="With Column">
    <Columns gutter="lg" columns={4}>
      <Box />
      <Box />
      <Column span={3}>
        <Box style={{ background: "blue" }} />
      </Column>
      <Column span={2}>
        <Box style={{ background: "green" }} />
      </Column>
      <Box />
      <Box />
      <Box />
    </Columns>
  </Story>
</Preview>

## With Column and dense

<Preview withToolbar>
  <Story name="With Column and dense">
    <Columns dense gutter="lg" columns={4}>
      <Box />
      <Box />
      <Column span={3}>
        <Box />
      </Column>
      <Column span={2}>
        <Box />
      </Column>
      <Box />
      <Box />
      <Box />
    </Columns>
  </Story>
</Preview>

## With Column and offset

In the below code, the blue box is offsetStart by 2 and the green box has an offsetEnd of 3

<Preview withToolbar>
  <Story name="With Column and offset">
    <Columns gutter="lg" columns={5}>
      <Box />
      <Box />
      <Column span={2} offsetStart={1}>
        <Box style={{ background: "blue" }} />
      </Column>
      <Column span={2} offsetEnd={2}>
        <Box style={{ background: "green" }} />
      </Column>
      <Box />
      <Box />
      <Box />
    </Columns>
  </Story>
</Preview>

## With switchAt

The below Columns layout will stack when it is less than `45rem`.

<Preview withToolbar>
  <Story name="With switchAt">
    <Columns gutter="lg" columns={3} switchAt="45rem">
      <Box />
      <Box />
      <Box />
      <Column span={3}>
        <Box />
      </Column>
    </Columns>
  </Story>
</Preview>

## data-attribute

For purposes of styling you can select `data-bedrock-layout-columns` and `data-bedrock-layout-column`.

## Playground

Experiment with this story with the Controls addon in the Canvas tab.

export const Template = (args) =>  (
    <Columns {...args}>
      <Box />
      <Box />
      <Column span={3}>
        <Box />
      </Column>
      <Column span={2}>
        <Box />
      </Column>
      <Box />
      <Box />
      <Box />
    </Columns>
)

<Canvas withToolbar>
  <Story
    name="Controls"
    args={{
      columns: 3,
      gutter: "lg",
      dense: false,
      switchAt: "30rem",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Controls" />
